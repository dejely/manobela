default_install_hook_types:
  - pre-commit
  - commit-msg

repos:
  - repo: https://github.com/compilerla/conventional-pre-commit
    rev: v4.3.0
    hooks:
      - id: conventional-pre-commit
        stages: [commit-msg]
        args: []

  - repo: https://github.com/astral-sh/uv-pre-commit
    rev: 0.9.25
    hooks:
      - id: uv-lock
        name: uv-lock (backend)
        files: ^backend/pyproject\.toml
        args: ["--project", "backend"]

      - id: uv-export
        name: uv-export (backend)
        files: ^backend/
        args:
          [
            "--project",
            "backend",
            "--no-dev",
            "--output-file=backend/requirements.txt",
          ]
